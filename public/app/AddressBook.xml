<?xml version="1.0"?>
<app:AddressBookClass xmlns="http://www.w3.org/1999/xhtml"
                      xmlns:js="js.core" xmlns:ui="js.ui" xmlns:app="app" xmlns:view="app.view">
    <div class="container">
        <h1>Address Book</h1>
        <div>
            <form onsubmit="submitForm">
                <fieldset>
                    <legend>Create new contact</legend>
                    <div>
                        <label for="firstName">Firstname</label>
                        <input id="firstName" type="text" value="{{person.firstName}}"/>
                        <div class="error">{person.errors().firstName.message}</div>
                    </div>
                    <div>
                        <label for="lastName">Lastname</label>
                        <input id="lastName" type="text" value="{{person.lastName}}"/>
                        <div class="error">{person.errors().lastName.message}</div>
                    </div>
                    <div>
                        <label for="email">Email</label>
                        <input id="email" type="text" value="{{person.email}}"/>
                        <div class="error">{person.errors().email.message}</div>
                    </div>
                    <div>
                        <label for="phone">Phonenumber</label>
                        <input id="phone" type="text" value="{{person.phone}}"/>
                        <span class="error">{person.errors().phone.message}</span>
                    </div>
                    <div>
                        <input type="submit" value="Save"/>
                    </div>
                </fieldset>
            </form>
            <h3>Preview</h3>
            <view:PersonView class="preview" person="{person}"/>
        </div>
        <h2>Contacts</h2>
        <ui:ItemsView items="{persons}" itemKey="person" tagName="table">
            <js:Template name="item">
                <tr>
                    <td>
                        <view:PersonView class="preview" person="{person}"/>
                    </td>
                    <td>
                        <a onclick="onRemove">Remove</a>
                    </td>
                </tr>
            </js:Template>
        </ui:ItemsView>
    </div>
</app:AddressBookClass>